<!--
  ~
  ~  Copyright (c) 2012-2016 "FlockData LLC"
  ~
  ~  This file is part of FlockData.
  ~
  ~  FlockData is free software: you can redistribute it and/or modify
  ~  it under the terms of the GNU General Public License as published by
  ~  the Free Software Foundation, either version 3 of the License, or
  ~  (at your option) any later version.
  ~
  ~  FlockData is distributed in the hope that it will be useful,
  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~  GNU General Public License for more details.
  ~
  ~  You should have received a copy of the GNU General Public License
  ~  along with FlockData.  If not, see <http://www.gnu.org/licenses/>.
  -->

<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    Analyze
    <small>Optional description</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-home"></i> Home</a></li>
    <li class="active">Analyze</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
  <div class="row">
    <div class="col-sm-8 col-md-3 col-lg-3">
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">Search</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse">
              <i class="fa fa-minus"></i></button>
            <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
              <i class="fa fa-times"></i></button>
          </div>
        </div>

        <div class="box-body">
          <fd-matrix-form>
            <section class="form-group">
              <label>Chart Type</label>
              <select ng-model="chartType" class="form-control" ng-change="switchChart(chartType)">
                <option value="Chord">Chord</option>
                <option value="Matrix">Matrix</option>
                <option value="BiPartite">BiPartite</option>
                <option value="TagCloud">TagCloud</option>
              </select>
            </section>
          </fd-matrix-form>
        </div>
      </div>
      <!-- /.box -->
    </div>
  <!-- Chart box -->
    <div class="col-xs-10 col-sm-10 col-md-9 col-lg-9">
      <div class="box">
        <div class="box-header with-border">
          <i class="fa fa-area-chart"></i>
          <h3 class="box-title">{{chartType}} Chart</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse">
              <i class="fa fa-minus"></i></button>
            <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
              <i class="fa fa-times"></i></button>
          </div>
        </div>
        <div class="box-body">

          <fd-search search="search()" message="msg"></fd-search>

          <div style="text-align:right;">

            <div id="chordGraph" ng-show="chartType=='Chord'">
              <chord-diagram data="cdData"></chord-diagram>
            </div>
            <div id="cooccurrenceGraph" ng-show="chartType=='Matrix'">
              <cooccurrence-diagram data="coData" ordered-nodes="orderedNodes"></cooccurrence-diagram>
              <select ng-model="order" ng-change="orderMatrix()">
                <option value="name">by Name</option>
                <option value="count">by Occurrence</option>
              </select>
            </div>
            <div id="bipartiteGraph" ng-show="chartType=='BiPartite'">
              <bipartite-diagram data="data" ng-repeat="data in bpData"></bipartite-diagram>
            </div>
            <div id="tagCloudPrinted" ng-show="chartType=='TagCloud'">
            </div>
          </div>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
          <div id="tooltip"></div>
        </div>
        <!-- /.box-footer-->
      </div>
      <!-- /.box -->
    </div>
  </div>
</section>
